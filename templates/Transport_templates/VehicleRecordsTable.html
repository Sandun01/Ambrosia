{% extends 'Transport_templates/transportationBase.html' %}

<!-------------------------Title------------------------->
{% block title %}Transportation Management{% endblock title %}

<!-------------------------Styles------------------------->
    {% block moreStyles %}


    table
    {
      font-family: arial, sans-serif;
      border-collapse: collapse;
      width: 100%;
    }

    th
    {
      border: 1px solid #dddddd;
      text-align: center;
      font-size: 15px;
      padding: 18px;
      background: #f5e57f;
    }

    td
    {
      border: 1px solid #e7e5e5;
      text-align: left;
      font-size: 20px;
      padding: 7px;
    }

    tr:nth-child(even)
    {
      background-color: #c5f1b8;
    }


.regButton {
    background-color: green; /* Green */
    border: none;
    color: white;
    padding: 8px 22px;
    text-align: center;
    text-decoration: none;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
  }
.regButton:hover{
      background-color: #000000;
  color: #77fd01;
}
 .regButton2 {
    background-color: red;
    border: none;
    color: white;
    padding: 8px 22px;
    text-align: center;
    text-decoration: none;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
  }
    .regButton2:hover {
  background-color: #000000;
  color: red;
}
.ClassActive {
    background-color: #8db8e0;
}

.ClassActive1 {
    background-color: #2292CF;
    color: white;
}


    {% endblock moreStyles %}


 {% block recordsBtn %}ClassActive{% endblock recordsBtn %}

{% block pageContentHeader1 %}Transportation Management{% endblock pageContentHeader1 %}
{% block pageContentHeader2 %}Vehicle Records Table{% endblock pageContentHeader2 %}


     {% block RepairMenu %}{% endblock RepairMenu %}


{% block recordTableBtn %}ClassActive1{% endblock recordTableBtn %}



{% block content %}
<br>
<!----search---->
        <form action="{% url 'searchRecords' %}" method="post">

        {% csrf_token %}

            <td><input type="text" name="vehicleno" placeholder="Vehicle Number" required></td>

            <td><input type="number" name="month" placeholder="Input Month" required></td>

            <td><input type="number" name="year" placeholder="Input Year" required></td>

            <td><input class="regButton2" type="submit" value="Search" ></td><br>

    </form>

    {% if messages %}
       {% for message in messages %}
          <script>alert("{{ message }}");</script>
    {% endfor %}
    {% endif %}

<br><br>
<div>
       <table>
              <tr >
                 <th>ID</th>
                <th>Vehicle No</th>
                <th>Date</th>
                <th>Start Readings </th>
                <th>End Readings</th>
                <th>Meter Difference</th>
                <th>Delete</th>



            {% for record in records %}

        <tr>
        <td>{{ record.id }}</td>
        <td>{{ record.VehicleNo}}</td>
        <td>{{ record.Date}} </td>
        <td>{{ record.Start_Reading}}</td>
        <td>{{ record.End_Reading}}</td>
        <td>{{ record.Meter_Difference }}</td>



         <form method="post" action=" {% url 'delete_driving_records' %}">
                    {% csrf_token %}
             <input type = "hidden" name="id" value="{{ record.id }}"/>

             <td><input type="submit" class = "regButton" value="Delete" onclick="if (!confirm('Are you sure You Want to Delete?.Press Ok To Confirm.')) { return false }" /></td>

         </form>






        </tr>
        {% endfor %}


       </table>


  </div>


{% endblock content %}